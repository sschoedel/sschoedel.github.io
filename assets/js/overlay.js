!function(){function e(e,t){l.innerHTML=e;try{l.querySelectorAll(".links a").forEach(e=>{e.classList.add("glass-btn")})}catch(i){}if(o.classList.add("active"),o.setAttribute("aria-hidden","false"),r.style.opacity="0",t)try{const e=t.getBoundingClientRect(),n=document.createElement("div");n.className="overlay-flyout";const l=getComputedStyle(t).borderRadius||"10px";Object.assign(n.style,{position:"fixed",top:e.top+"px",left:e.left+"px",width:e.width+"px",height:e.height+"px",borderRadius:l,zIndex:1060}),o.classList.add("no-fade"),document.body.appendChild(n);const c=r.getBoundingClientRect();n.style.top=e.top+"px",n.style.left=e.left+"px",requestAnimationFrame(()=>{n.style.transition="top 280ms cubic-bezier(0.2, 0.8, 0.2, 1), left 280ms cubic-bezier(0.2, 0.8, 0.2, 1), width 280ms cubic-bezier(0.2, 0.8, 0.2, 1), height 280ms cubic-bezier(0.2, 0.8, 0.2, 1), border-radius 280ms ease",n.style.top=c.top+"px",n.style.left=c.left+"px",n.style.width=c.width+"px",n.style.height=c.height+"px",n.style.borderRadius=getComputedStyle(r).borderRadius||"16px",n.addEventListener("transitionend",()=>{r.style.opacity="1",o.classList.remove("no-fade");try{n.remove()}catch(i){}},{once:!0})})}catch(s){r.style.opacity="1"}else r.style.opacity="1";n(),setTimeout(()=>{(r.querySelector("[tabindex], a, button, input, textarea, select")||l).focus()},0)}function t(){l.innerHTML="",o.classList.remove("active"),o.setAttribute("aria-hidden","true"),a&&(a(),a=null)}function n(){const e=e=>{r.contains(e.target)||(e.preventDefault(),window.scrollBy({top:e.deltaY,left:e.deltaX,behavior:"auto"}))};let t=null;const n=e=>{r.contains(e.target)||(t=e.touches&&e.touches.length?e.touches[0].clientY:null)},i=e=>{if(r.contains(e.target))return;if(null==t)return;const n=e.touches&&e.touches.length?e.touches[0].clientY:t,i=t-n;window.scrollBy({top:i,left:0,behavior:"auto"}),t=n,e.preventDefault()};o.addEventListener("wheel",e,{passive:!1}),o.addEventListener("touchstart",n,{passive:!0}),o.addEventListener("touchmove",i,{passive:!1}),a=(()=>{o.removeEventListener("wheel",e,{passive:!1}),o.removeEventListener("touchstart",n,{passive:!0}),o.removeEventListener("touchmove",i,{passive:!1})})}function i(e){const t=e.querySelector(".title"),n=t?t.innerHTML:"",i=e.querySelector(".author"),s=i?i.innerHTML:"",o=Array.from(e.querySelectorAll(".periodical")).map(e=>e.innerHTML).join("<br>"),r=e.querySelector(".abstract"),l=r?r.innerHTML:"",c=e.querySelector(".award"),a=c?c.innerHTML:"",d=e.querySelector(".links"),u=d?d.innerHTML:"",v=e.closest(".row"),y=v?v.querySelector("img.preview"):null;return`\n      <div class="overlay-publication">\n        <div class="row">\n          <div class="col-sm-4">${(y?y.outerHTML:"")||""}</div>\n          <div class="col-sm">\n            <h2 id="overlay-title">${n}</h2>\n            <div class="author">${s}</div>\n            <div class="periodical">${o}</div>\n            ${a?`<div class="award" style="margin-top:6px; color:red;">${a}</div>`:""}\n            <div class="links" style="margin-top:10px;">${u}</div>\n          </div>\n        </div>\n        ${l?`<hr><div class="abstract">${l}</div>`:""}\n      </div>\n    `}function s(e){const t=e.querySelector(".title"),n=t?t.innerHTML:"",i=e.querySelector(".description, p"),s=i?i.innerHTML:"",o=e.querySelector(".links"),r=o?o.innerHTML:"",l=e.closest(".row"),c=l?l.querySelector("img.preview"):null;return`\n      <div class="overlay-project">\n        <div class="row">\n          <div class="col-sm-5">${(c?c.outerHTML:"")||""}</div>\n          <div class="col-sm">\n            <h2 id="overlay-title">${n}</h2>\n            <div class="description">${s}</div>\n            <div class="links" style="margin-top:10px;">${r}</div>\n          </div>\n        </div>\n      </div>\n    `}const o=document.getElementById("overlay-root");if(!o)return;const r=o.querySelector(".overlay-panel"),l=o.querySelector(".overlay-body"),c=o.querySelector(".overlay-close");let a=null;document.addEventListener("click",function(n){const r=n.target.closest(".publication-row"),l=n.target.closest(".publication-entry");if(!r&&!l||n.target.closest("a, button"))n.target===o&&t(),(n.target===c||n.target.closest(".overlay-close"))&&t();else{const t=l||r,n=t.getAttribute("data-entry-key"),o=document.querySelector(`.publication-entry[data-entry-key="${n}"]`)||t;e(null!==o.closest(".project-grid")?s(o):i(o),r||l)}}),document.addEventListener("keydown",function(n){if("Escape"===n.key&&o.classList.contains("active")&&t(),("Enter"===n.key||" "===n.key)&&document.activeElement&&document.activeElement.classList.contains("publication-row")){const t=document.activeElement,n=t.getAttribute("data-entry-key"),o=document.querySelector(`.publication-entry[data-entry-key="${n}"]`)||t;e(null!==o.closest(".project-grid")?s(o):i(o),t)}})}();